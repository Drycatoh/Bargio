!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.Timer=t()}(this,function(){"use strict";function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function y(n,t,i){var r,u="";if(n.length>t)return n;for(r=0;r<t;r+=1)u+=String(i);return(u+n).slice(-u.length)}function l(){this.secondTenths=0;this.seconds=0;this.minutes=0;this.hours=0;this.days=0;this.toString=function(n,t,i){n=n||["hours","minutes","seconds"];t=t||":";i=i||2;var r;const u=[];for(r=0;r<n.length;r+=1)void 0!==this[n[r]]&&("secondTenths"===n[r]?u.push(this[n[r]]):u.push(y(this[n[r]],i,"0")));return u.join(t)}}function f(){return"undefined"!=typeof document}function e(){return a}function v(n,t){return(n%t+t)%t}var o="undefined"!=typeof window?window.CustomEvent:void 0;"undefined"!=typeof window&&"function"!=typeof o&&((o=function(n,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};const i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),i}).prototype=window.Event.prototype,window.CustomEvent=o);var i="secondTenths",r="seconds",s="minutes",h="hours",u="days",n={secondTenths:100,seconds:1e3,minutes:6e4,hours:36e5,days:864e5},c={secondTenths:10,seconds:60,minutes:60,hours:24},a="undefined"!=typeof module&&module.exports&&"function"==typeof require?require("events"):void 0;return function(){function tt(t,i){var r,f;const e=y[i];return f=it(t,n[r=i]),y[r]=f,o[r]=r===u?f:0<=f?v(f,c[r]):c[r]-v(f,c[r]),y[i]!==e}function yt(){pt(),function(){for(let n in o)o.hasOwnProperty(n)&&"number"==typeof o[n]&&(o[n]=0);for(let n in y)y.hasOwnProperty(n)&&"number"==typeof y[n]&&(y[n]=0)}()}function pt(){clearInterval(et);et=void 0;ut=ct=!1}function wt(i){var f,u,e;ri()?(nt=bt(),k=lt(st.target)):(g="string"==typeof(u=(u=i)||{}).precision?u.precision:r,ot="function"==typeof u.callback?u.callback:function(){},ht=!0===u.countdown,rt=!0===ht?-1:1,"object"===t(u.startValues)?(e=u.startValues,b=gt(e),o.secondTenths=b[0],o.seconds=b[1],o.minutes=b[2],o.hours=b[3],o.days=b[4],y=ni(b,y)):b=null,nt=bt(),kt(),k="object"===t(u.target)?lt(u.target):ht?(u.target={seconds:0},lt(u.target)):null,vt={precision:g,callback:ot,countdown:"object"===t(u)&&!0===u.countdown,target:k,startValues:b},st=u);f=n[g];dt(ft(Date.now()))||(et=setInterval(ui,f),ut=!(ct=!0))}function bt(){return ft(Date.now())-y.secondTenths*n[i]*rt}function ui(){var n;const t=ft(Date.now());(n=kt())[i]&&w("secondTenthsUpdated",p);n[r]&&w("secondsUpdated",p);n[s]&&w("minutesUpdated",p);n[h]&&w("hoursUpdated",p);n[u]&&w("daysUpdated",p);ot(p.detail.timer);dt(t)&&(ti(),w("targetAchieved",p))}function kt(){const f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:ft(Date.now()),t=0<rt?f-nt:nt-f,n={};return n[i]=tt(t,i),n[r]=tt(t,r),n[s]=tt(t,s),n[h]=tt(t,h),n[u]=tt(t,u),n}function ft(t){return Math.floor(t/n[g])*n[g]}function dt(n){return k instanceof Array&&at<=n}function gt(n){var r,u,f,e,o,i;if("object"===t(n))if(n instanceof Array){if(5!==n.length)throw new Error("Array size not valid");i=n}else i=[n.secondTenths||0,n.seconds||0,n.minutes||0,n.hours||0,n.days||0];return r=i[0],u=i[1]+it(r,10),f=i[2]+it(u,60),e=i[3]+it(f,60),o=i[4]+it(e,24),i[0]=r%10,i[1]=u%60,i[2]=f%60,i[3]=e%24,i[4]=o,i}function it(n,t){const i=n/t;return i<0?Math.ceil(i):Math.floor(i)}function lt(t){if(t){const r=ni(k=gt(t));return at=nt+r.secondTenths*n[i]*rt,k}}function ni(n,t){const i=t||{};return i.days=n[4],i.hours=24*i.days+n[3],i.minutes=60*i.hours+n[2],i.seconds=60*i.minutes+n[1],i.secondTenths=10*i.seconds+n[[0]],i}function ti(){yt();w("stopped",p)}function w(n,t){f()?d.dispatchEvent(new CustomEvent(n,t)):e()&&d.emit(n,t)}function ii(){return ct}function ri(){return ut}var et,g,rt,ot,st,k,b,ht,nt,at,o=new l,y=new l,d=f()?document.createElement("span"):e()?new a.EventEmitter:void 0,ct=!1,ut=!1,vt={},p={detail:{timer:this}};void 0!==this&&(this.start=function(n){ii()||(wt(n),w("started",p))},this.pause=function(){pt();ut=!0;w("paused",p)},this.stop=ti,this.reset=function(){yt();wt(st);w("reset",p)},this.isRunning=ii,this.isPaused=ri,this.getTimeValues=function(){return o},this.getTotalTimeValues=function(){return y},this.getConfig=function(){return vt},this.addEventListener=function(n,t){f()?d.addEventListener(n,t):e()&&d.on(n,t)},this.removeEventListener=function(n,t){f()?d.removeEventListener(n,t):e()&&d.removeListener(n,t)})}});